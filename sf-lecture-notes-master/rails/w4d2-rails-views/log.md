# W4D2

## 1/2/17

* December 2017 cohort
* Lecturer: AJ Ansel (aansel@)
* Scribe: Isak Mladenoff (isak@)

### Lecture questions

* What is the preferred syntax for `render`?
  * `render`+ symbol
    * e.g. `render :user`
* `rails routes` will work the way that `rake routes` works inthe video?
  * Yep
* When we inspect a web page we can see HTML, can we see embedded erb if we inspect and they use Ruby?
  * No, it is converted to HTML on the server side and sent down as HTML.
* Can I use a `link_to` with `POST` or a `button_to` with `GET`?
  * You could, but they default to the traditional methods.
* Will a `button_to` create the whole form?
  * No just a `<button>` tag.
* What sit he options hash for?
  * It also us to assign instance variables to the local variables in the partial.
* Can you render a Rails partial within another partial?
  * Yes.
* Why are we using partials?
  * We often want to reuse code (think sign up/log in forms) in multiple locations.

### Code demo
* Why wouldn't we just use `render json: User.all` yesterday?
  * Because Kelly knew we were going to head to views today.
* Is `application.html.erb` used by every page?
  * Yes, and then rails yields to whichever view the path calls for.
* Something about path methods (`user_url` etc.) Maybe asking about the gaps on `rails routes`
  * Question unclear
* Can you render partials in application.html.erb?
  * Sure. (allude to Auth)
* `action_url` was an arbitrary name?
  * Yes
* We would need a dependent destory to destory chirps along w/ the user; which model would that go on?
  * On the User.

## 8/22/17

* Lecturer: Kelly Chung
* Scribe: Andres Alfaro

### Lecture Questions
+ If you redirect you use the same HTTP request?
  + No, a new HTTP request/response cycle is initialized as part of a redirect.
+ Is there a difference between *__prefix__*_url and *__prefix__*_path?
  + Yes, a subtle difference, will post an article on such difference.
+ Can we have Ruby blocks instead of specifying several ERB tags?
  + Not that we are aware of.
+ Why cant I grab a block from the view and just use it in the view?
  + That is totally possible, the only drawback is the overhead of generating a Proc in the controller and then have it on the view.
+ aA has a list of most used gems?
  + We discourage the use of the same gems over and over again, there should be a real reason behind the use of each gem, that being said we do have a list of commonly used gems.

### BlueBird Demo Questions
  + Is there like a rails generate view command?
    + A view will be generate for you too (template) by generating a controller,.
  + How do you delete a controller?
    + Just use d, alias for destroy.
  + Are instance variables localized to a particular action in the controller.
    + When we send a request, we instantiate a single instance of the controller, after that we call the particular method/action, so the instance var will only exist while the action either renders or redirects.
  + The instance variable has to be plural, for the magical auto render partial on rails?
    + It needs to be the template name with s.
  + When is the seed file executed?
    + The first thing on a new/cloned rails project is to run, *__rails db:setup__* to create the database, run migrations and run the seeding of the db.
  + Why do we pass the chirp to the urls?
    + The url patterns require an :id - because the action will act upon a specific chirp - so we pass the chirp and rails will internally extract the id.
  + At what point do you refactor views into partials?
    + Is good form when you feel your code is repetitive.

## 8/22/17

Lecturer: Kelly Chung
Scribe: Anastassia Bobokalonova

### Lecture

+ When it comes to loading CSS/JS files, you load it into the HTML file?
  - As part of the Rails architecture.. this is something we handle when we get to assets, so we'll worry about that later.
+ This html template is generated for us?
  - Go into application.html.erb, it's there.
+ Is the yield the same as prc.call?
  - I'm not too sure. I'll look into it.
+ If you wanted to go to UsersController#create?
  - The prefix is user, so user_url.
+ How do you specify which verb you're using?
  - Redirect_to also takes a method. But it depends, we'll get into it.
+ Are the prefixes all automatically generated by rails?
  - Yes.
+ If I want to redirect to a specific user?
  - We'll get into that in a second.
+ Is it not possible to wrap those (ERB) in more than one line?
  - No, it's on a line by line basis.
+ Is that what people call server-side rendering?
  - Yeah, kind of. ERB is not visible to the browser, it's served up as static HTML.
+ If I want to return more than one thing from ruby code, I need multiple erb tags?
  - Yes.
+ For patch, you have to have the hidden field.. When you do button to, it's the same?
  - Yes, the buttons will be able to take patch.
+ The `@plant` passed from the controller?
  - Yes. We are passing `@plant` to the partial.
+ What does binding of caller and better errors do?
  - They allow us to use the function fail. As if we hit a debugger-pry, and we can use it to see all the values at that point.

### BlueBird Demo

+ How does this controller know the difference between the two index routes?
  - The way this function is defined to understand the difference is being sensitive to the parameter :user_id, which only comes from one route, not the other.
+ Let's say I put user_id into a query but sent it to the second link, it will go to the wrong controller?
  - Yes, because params includes :user_id. This can be prevented by good design.
+ Every time you create a controller, it'll have a different folder for the views?
  - Yes, they are generated automatically when you say `rails g controller ControllerName`.
+ When you type `rails g model`, the appropriate migration files are also made. Does this happen for `rails g controller`?
  - You get views folder, controller, and other important assets, not migration files.
+ Can you create a controller before creating a model?
  - Yes, one can exist without the other. Just a controller is supposed to call its corresponding model.
+ Does the controller name need to be capitalized?
  - If its a single word, its fine. If its multiple words, CamelCase it.
+ If you put chirp.id instead of chirp into the url helper prefix?
  - Either way is fine.
+ Button_to doesn't default to delete, add method: :delete.
+ Does link_to automatically default to the method GET?
  - Yes, anchor tags default to this. It is against convention to make a link default to other than a GET request.
+ Why can I access @chirp from the views?
  - The index request response cycle has been completed, and we only have access to @chirp.
+ Why render :index instead of redirect_to :index?
  - Good, catch, I meant redirect_to. Because we want to start a new request response cycle.
+ What if I just called the :index method from within destroy?
  - You technically could, but if you don't start a new request response cycle, then your params won't be correct. Rule of thumb, every time start a new cycle with the right controller action. It's an anti-pattern to the MVC architecture to call methods like that and it will cause bugs.
+ What if you want to redirect to a specific show?
+ Would there ever be a case where you have one request response cycle move onto the next one and then go back to the initial one with the new data?
  - It should be linear, conventional configuration.
+ Where do we put the partial file?
  - If you want to depend on the rails automagic, leave it in the same directory. Otherwise if you put it in a different location, you have to explicitly tell Rails which path to use to get to that partial.
+ It's not `@chirp`..??
  - Just chirp because it came from the piped variable.
+ Put hashtags after percentages to comment out.
+ Will the submit be input or button?
  - Input.
+ Does chirp.body turn into strings? Yes.
+ In the name="chirp[body]"..?
  - Yes, this defines what the params looks like.
+ 4 things you need for forms: actions, method (patch), inputs, submit.
+ On submit, is there a redirection of the form?
  - On submit, it will start a new request response cycle. In this case, the update action.  


## Date unknown

* Lecturer: Jenn
* Scribe: Luke

### Yesterday's Projects

* How does `user_params` work?
* How long does `flash.now` persist?

### Rails Views

* How does passing variables to partials work?
* It seems like there's a lot of repeated code. Can we iterate?
* Why use local variables for partials?
* Question about forms?
* What do empty strings do?
* Returning strings from ERB tags?
* Why does this HTTP verb have to be all caps?
  * It doesn't.
* What if we submit a form without making a choice?
* Are `link_to` and `button_to` the same thing?
  * Could we delete something with a link?
* How does it know the method?
* Where does the fail page repl come from?

### Quiz

* How do you know what URI to make a request to from a form?
* How do we make non-post requests from a form?
* Why do we prefer to render edit instead of redirecting?
* How do you choose an HTML tag?
* Why do we wrap things in label tags?

## 12/06/2016
Lecturer: Claire Rogers

### Questions
* What is the difference between saying `params.require(:book).permit(...)` vs `params[:book].permit(...)`
* Is it okay to render the `:edit` template in the `#update` method?
* Is it better to use `selected=true` or `selected` in an `<option>` tag?
* Why `redirect_to` after successful creation of a book instead of just `render`?

### Mistakes
* One of the quiz questions had an error - it was missing erb tags.  Already fixed.
* The image url for a/A's logo from HTML hw night 1 is broken.  Need to replace.

### Notes
* When I gave this lecture, there was no video yet for `link_to`, `button_to`, or params as arrays
* There was no scribe present for this lecture, hence a minimal list of questions
* Since the videos are extensive, I made lecture short.  Student feedback requested a longer lecture.  
* I recommend adding a slide with links to various students recipe apps.  Would be cool to see in lecture.  


## 10/04/16
Lecturer: Kevin McCall

### Helpers, Layouts, and Partials Homework

We will be working off of yesterday's "99 Cats Homework" for today's homework assignment. Pull your work down from Github, `bundle install`, and `bundle exec rake db:setup` to get things going.

#### Questions from yesterday's project

+ Confusion/blank stares over what a URI pattern is.
+ What is the (.:format) in a URI pattern?
    * http://guides.rubyonrails.org/v2.3/routing.html#formats-and-respond-to
+ Will we be learning someway such that our url wont be something like /:id?
+ Where does the definition of the request body end and the parameters begin?
+ What does the prefix do? (url helper method)
+ Where can we use `app` in the rails console?
+ Is the recipes_url(:id) and alias for `recipes/:id`?
+ Difference between absolute and relative paths? General confusion over this.
    * relative path adds domain from current location
    * absolute path includes domain
+ When using strong parameters (require or permit) what is each one doing?
+ when writing your `#destroy` do you use something like your `#user_params` method?

#### Homework

+ showed how to write labels in html and talked about accessibility reasoning.
+ What submit option makes our button actually submit? Where do we need it? A lot of confusion over the form having only one button automatically submitting.

#### Questions for today

+ partials section - reusable as possible. If we passing instance variables how do we use partials? -- local variables versus instance variables.
+ Where do we save our partial file?
+ `type` option for a button element the same thing as the `method` option in `button_to`?
+ What does the `button_to` method actually do?
+ Does group indexing two items still make an index for each of the other two?
    * just indexes the first one
+ Hidden input field for `PATCH`/`POST`
+ Partials getting local variables versus instance variables.
+ Partial take hash options.
+ How is the verb for the partial submit action passed? (it's not)

---

## 08/02/16
Lecturer: Kevin McCall

#### W4D1
+ What's URI?
+ Was is the difference between `params.require` and `params.permit`?
+ Why use `scope` with `validates`?
+ Why use `add_index`? When do you need to index a column?
+ Database constraints v model constraints
+ When do you add more associations on the model vs add more methods on the controller?
+ Solutions use `update_attributes`, how's that different from `update`?

#### HTML Day 3
+ What is the purpose of labels?
+ Thoughts on using line breaks

#### Quiz
+ How do we build up params? Nesting params?
+ `PATCH` or `PUT`?
+ How do we pass the appropriate param(s) to the URI pattern?
+ What is the URI pattern requires two of the same params?

#### Lecture - Views
+ Does my http verb have to be `PATCH` v `DELETE`?
+ What does `link_to` vs `button_to` do?
+ Would you use `input type=button` in a form?
+ Why does HTML not support `PATCH/PUT/DELETE` in their forms?

#### Demo
+ Pre-filled form input values
